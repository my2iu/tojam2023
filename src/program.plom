 module .{program} {
 vardecls {
 var . {canvas } @ {canvas }
 var . {ctx } @ {canvas 2D context }
 var . {game manager } @ {game manager }
 }
 function . {main } { @ {void } } { } {

 . {canvas } := @ {canvas } . {rewrap: { @ {HTML element } . {document } . {query selector: {"#main canvas" } } } }
 . {ctx } := . {canvas } . {2D context }




 . {game manager } := @ {game manager } . {new }
 var . {title screen } @ {title screen } := @ {title screen } . {new }
 . {game manager } . {switch to: { . {title screen } } }

 var . {pointer down ID } @ {number }
 . {canvas } . {on event: {"pointerdown" }add listener: { lambda { f@ {on: { . {event } @ {HTML event } } } returns @ {void } } {
 . {event } . {prevent default }
 . {pointer down ID } := . {event } . {pointer ID }
 . {game manager } . {pointer down at x: { . {event } . {offset x } }y: { . {event } . {offset y } } }
 } } }
 . {canvas } . {on event: {"pointerup" }add listener: { lambda { f@ {on: { . {event } @ {HTML event } } } returns @ {void } } {
 . {event } . {prevent default }
 . {pointer down ID } := . {event } . {pointer ID }

 } } }



 }
 function . {misc } { @ {void } } { } {



 var . {array } @ {array } := @ {array } . {new }
 . {print: { . {array } . {size } } }
 . {array } . {+=: {"hello" } }
 . {print: { . {array } . {size } } }
 . {array } . {+=: { 25 } } . {+=: {"third" } }
 . {print: { . {array } . {size } } }
 . {print: { . {array } . {at: { 1 } } } }
 . {print: { . {array } . {at: { 2 } } } }






 @ {JS object } . {globals } . {call: {"setTimeout" }with: { @ {JS object } . {from function: { lambda { f@ {trigger } returns @ {void } } {
 . {canvas } . {2D context } . {draw image: { . {title image } }x: { 50 }y: { 100 } }
 } } } }and: { @ {JS object } . {from number: { 1000 } } } }
 }
 }